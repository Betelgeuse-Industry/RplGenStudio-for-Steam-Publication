# 创建项目

## 引言

创建项目前，我们需要先说明，什么是“项目”。

一个项目，往往对应一个replay视频系列，可以完成制作视频剧集的全部工作。在回声工坊中，一个项目将包含一个素材库，一组角色配置和若干个剧本。

当启动回声工坊之后，首先显示的就是项目视图的欢迎页。欢迎页上包含一下几个部分：
1. 欢迎语
2. 打开项目、新建空白项目、新建智能项目的按钮
3. 最近打开的项目记录

## 1. 新建空白项目

### 概述

新建空白项目，即新建一个完全空白的项目，这个项目中没有任何的媒体、角色和剧本，所有项目均需要用户自行添加。

通常，用户在以下情况下应该新建空白项目：

1. 从头创建一个replay视频项目
2. 要导入现有的回声工坊1.0的工程文件

### 操作

点击新建空白项目按钮后，会弹出新建空白项目窗口，有以下项目需要用户选择：

1. 项目的名称：项目的名称必须是一个合法的文件名；换言之，即避免使用特殊符号；
2. 项目的封面：可以选择一个图片作为项目封面。这个图片将会显示在 `项目管理栏` 的顶部；如果没有选择，此处会显示默认封面；
3. 保存项目的位置：创建项目后，会将项目文件夹保存在指定文件夹中；
4. 视频选项：包括项目的分辨率和帧率。可以在预设中选择常用的视频参数；如果要设置预设中没有的视频参数，则在预设中选择“自定义”，然后手动输入分辨率、帧率的数值。
5. 图层顺序：项目中的图层顺序，可以在预设中选择常用的图层顺序预设；选择“自定义”即可手动输入图层顺序参数。关于图层顺序参数设置的详细说明，请查阅 [自定义图层顺序](./A-01-01.md)

> 注意1：视频分辨率的宽和高必须是一个偶数，设置为奇数则无法导出视频！<p>
> 注意2：图层顺序参数是敏感的，任何不符合要求的输入，都会导致程序无法正常执行！在自定义修改图层顺序参数前，务必先查阅修改图层顺序的详细说明。<p>

### 完成项目创建

选择好上述选项，点击【确定】按钮后，项目即创建完毕，此时 `项目视图` 将直接切换到项目中。

此时，在指定的文件夹会创建一个以项目的名称命名的文件夹，其中包含一个以项目命名的.rgpj文件，此即新建的空白项目。

关于项目的操作和管理，请查阅 [项目管理](./B-01-03.md) 。

以下是几个关于项目的实用的建议，虽然并不是强制要求，但是遵循以下建议可以有效减少错误的发生，提升操作体验。

1. 专门建立一个文件夹，用于存放项目文件夹。
1. 避免将项目保存在包含 `()[]<>` 等特殊符号的路径下！
1. 将一个项目中使用到的所有图片、音频、字体文件保存在项目文件夹中。这将便于打包和转移项目。

## 2. 新建智能项目

智能项目即在创建时，允许用户从现有模板库中选择一个合适的模板，导入任何形式的聊天记录或者跑团log，并根据模板自动生成一个可播放的项目。

通常，用户在以下情况下应该新建智能项目：

1. 不打算自行设计视频画面布局；
2. 不熟悉回声工坊的操作，不熟悉rgl的语法；
3. 设计的画面布局较为简单，只需要基于预设模板替换素材即可完成配置。

### 操作

点击新建智能项目按钮后，会弹出新建智能项目窗口，有以下项目需要用户选择：

1. 项目的名称、封面、保存位置同 `新建空白项目`， 这里不再赘述；
2. 选择模板：选中模板之后，模板的封面、作者和授权信息会显示在窗口中，请仔细阅读预设模板的使用授权范围，避免侵权使用。
3. 导入剧本：选择一个导出的原始qq聊天记录或骰子记录的跑团原始log；
4. 设置自动分段：如果导入的原始剧本过长，将根据指定行数，把剧本拆分为多个剧本导入。选择0则不会做任何拆分。

> 注意1：请不要导入已经添加了复杂命令的rgl脚本文件！如果是1.0版本已经使用过的rgl文件，请参考 `新建空白项目`<p>
> 注意2：导入的剧本应为一个文本文件，如txt文件；请不要导入word文档或者rtf文档！<p>
> 注意3：受限于软件性能，当单个剧本文件长度过长（如超过1000行）时，部分功能可能发生卡顿，或者无法正常使用。为了避免这种情况的发生，单个剧本长度不宜超过1000行！

### 完成项目创建

选择好上述选项，点击【确定】按钮后，软件将开始解析导入的剧本文件。

需要注意的是，如果原始聊天记录相当长，这个解析过程可能需要一定时间，进度可见于窗口底部的进度条。如果想放弃本次解析，可以点击【取消】按钮。

待解析完成后，会在指定的保存位置创建一个以项目的名称命名的文件夹，其中除了一个以项目命名的.rgpj文件以外，还会有部分预设模板中提供的素材。

创建智能项目完成后，`项目视图` 会直接切换到项目中；此时的项目会包含若干个媒体、角色和剧本文件，且剧本文件可以直接播放预览或导出为视频。

## 3. 打开现有项目

当已经创建了一个项目之后，可以在 `项目视图` 首页打开之前的已经保存的项目。

### 操作

1. 点击打开项目，即可从文件夹浏览项目文件(rgpj)。选择一个项目文件打开后，`项目视图` 会直接切换到项目中。
2. 最近打开过的项目会显示在【最近项目】栏目中，可以在【最近项目】中直接打开最近打开过的项目。点击【清除记录】按钮可以清空目前的记录。
